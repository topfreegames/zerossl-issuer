# ZeroSSL Issuer Project Rules

## Development Process

### Code Changes
1. Review existing code and tests before making changes
2. Follow project structure and patterns
3. Keep changes focused and minimal
4. Document changes in code and commit messages
5. Update API documentation when changing CRDs

### Testing Requirements
1. ALWAYS review and update tests after code changes:
   - Unit tests in the same package
   - Integration tests if controller logic changes
   - E2E tests for full workflow changes
   - Sample manifests for new features
2. Test coverage requirements:
   - Unit tests for all new functions
   - Integration tests for controller changes
   - E2E tests for user workflows
3. Test quality checklist:
   - Tests are descriptive and well-organized
   - Edge cases are covered
   - Error conditions are tested
   - Resource cleanup is handled
   - Secrets and sensitive data are properly managed

### Code Review Process
1. Self-review checklist:
   - Code follows project patterns
   - Tests are comprehensive
   - Documentation is updated
   - CRDs are regenerated if needed
   - Samples are updated
2. Testing verification:
   - All tests pass locally
   - Coverage is maintained or improved
   - New features have example tests
   - Security considerations are tested

## Project Standards

### API Design
1. Follow cert-manager patterns
2. Use proper validation
3. Document all fields
4. Handle versioning properly

### Security Practices
1. No sensitive data in specs
2. Use secret references
3. Validate secret access
4. Follow RBAC best practices

### Controller Implementation
1. Proper error handling
2. Status updates
3. Event recording
4. Resource cleanup

### Documentation
1. Keep README current
2. Document API changes
3. Update examples
4. Include troubleshooting

## Testing Guidelines

### Unit Tests
1. Test package functionality
2. Mock external dependencies
3. Cover error cases
4. Validate input/output

### Integration Tests
1. Test controller logic
2. Verify reconciliation
3. Test with real resources
4. Handle cleanup

### E2E Tests
1. Test full workflows
2. Verify metrics
3. Test with real cluster
4. Clean up resources

### Test Maintenance
1. Keep tests current
2. Remove obsolete tests
3. Update for API changes
4. Maintain test documentation 